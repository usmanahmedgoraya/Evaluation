import Head from "next/head";
import { StaticImageData } from "next/image";
import { useRouter } from "next/router";
import { useEffect } from "react";
import { Col, Row } from "reactstrap";
import bg1 from "../../src/assets/images/bg/bg1.jpg";
import bg2 from "../../src/assets/images/bg/bg2.jpg";
import bg3 from "../../src/assets/images/bg/bg3.jpg";
import bg4 from "../../src/assets/images/bg/bg4.jpg";
import Feeds from "../../src/components/dashboard/Feeds";
import SalesChart from "../../src/components/dashboard/SalesChart";
import TopCards from "../../src/components/dashboard/TopCards";
import FullLayout from "../../src/layouts/FullLayout";
import useArticleStore from '../../zustand/article.zustand';

interface BlogDataItem {
    image: StaticImageData;
    title: string;
    subtitle: string;
    description: string;
    btnbg: string;
}

interface TopCardsProps {
    bg: string;
    title: string;
    subtitle: string;
    earning: string;
    icon: string;
  }

const BlogData: BlogDataItem[] = [
    {
        image: bg1,
        title: "This is simple blog",
        subtitle: "2 comments, 1 Like",
        description:
            "This is a wider card with supporting text below as a natural lead-in to additional content.",
        btnbg: "primary",
    },
    {
        image: bg2,
        title: "Lets be simple blog",
        subtitle: "2 comments, 1 Like",
        description:
            "This is a wider card with supporting text below as a natural lead-in to additional content.",
        btnbg: "primary",
    },
    {
        image: bg3,
        title: "Don't Lamp blog",
        subtitle: "2 comments, 1 Like",
        description:
            "This is a wider card with supporting text below as a natural lead-in to additional content.",
        btnbg: "primary",
    },
    {
        image: bg4,
        title: "Simple is beautiful",
        subtitle: "2 comments, 1 Like",
        description:
            "This is a wider card with supporting text below as a natural lead-in to additional content.",
        btnbg: "primary",
    },
];

const Dashboard: React.FC = () => {
    const { getAllArticles, articles } = useArticleStore();
    const router = useRouter()
    useEffect(() => {
        let localAuth:any = localStorage.getItem('Auth')
        localAuth = JSON.parse(localAuth!);
        if (localAuth?.state?.isLoggedin) {
            router.push('/analytics/dashboard')
            getAllArticles(1);
        } else {
            router.push('/auth/login')
        }
    }, [])


    return (
        <div>
            <Head>
                <title>Xtreme Starter Next Js App</title>
                <meta name="description" content="Generated by create next app" />
                <link rel="icon" href="/favicon.ico" />
                <script src="https://cdn.tailwindcss.com"></script>
            </Head>
            <div className="overflow-x-hidden">
                {/***Top Cards***/}
                <FullLayout>
                    <Row>
                        <Col sm="6" lg="3">
                            <TopCards
                                bg="bg-light-success text-success"
                                title="Profit"
                                subtitle="Yearly Earning"
                                earning="$21k"
                                icon="bi bi-wallet"
                            />
                        </Col>
                        <Col sm="6" lg="3">
                            <TopCards
                                bg="bg-light-danger text-danger"
                                title="Refunds"
                                subtitle="Refund given"
                                earning="$1k"
                                icon="bi bi-coin"
                            />
                        </Col>
                        <Col sm="6" lg="3">
                            <TopCards
                                bg="bg-light-warning text-warning"
                                title="New Project"
                                subtitle="Yearly Project"
                                earning="456"
                                icon="bi bi-basket3"
                            />
                        </Col>
                        <Col sm="6" lg="3">
                            <TopCards
                                bg="bg-light-info text-into"
                                title="Sales"
                                subtitle="Weekly Sales"
                                earning="210"
                                icon="bi bi-bag"
                            />
                        </Col>
                    </Row>
                    {/***Sales & Feed***/}
                    <Row>
                        <Col sm="12" lg="6" xl="7" xxl="8">
                            <SalesChart />
                        </Col>
                        <Col sm="12" lg="6" xl="5" xxl="4">
                            <Feeds />
                        </Col>
                    </Row>
                    {/***Blog Cards***/}
                    {/* <Row>
                        {articles?.map((blg: any) => (
                            <Col sm="6" lg="6" xl="4" key={blg.title}>
                                <Blog
                                    image={blg.image}
                                    title={blg.title}
                                    subtitle={blg.subtitle}
                                    text={blg.text}
                                    color={blg.btnbg}
                                    defaultImage={bg4}
                                    blog={blg}
                                />
                            </Col>
                        ))}
                    </Row> */}

                </FullLayout>
            </div>
        </div>
    );
}

export default Dashboard;
